import { useQuery } from '@tanstack/react-query';
import React from 'react';
import { useLocation } from 'react-router-dom';
import { makeRequest } from '~/axios';
import Post from '~/components/Posts/Post/Post';

function SearchPost(props) {
    const postTerm = useLocation().pathname.split("/")[2];
    console.log(postTerm);
    const postFilterFetch = useQuery({queryKey: ["", postTerm],
        queryFn: async () => {
            const res = await makeRequest.get(`/search/findpost?searchTerm=${postTerm}`);
            return res.data;
        },
    });
    postFilterFetch.isSuccess && console.log(postFilterFetch.data);
    return (
        <div>
            <h1 className='text-[20px] item'>Kết quả tìm kiếm cho kết quả từ khóa <span className='text-[#253fe3] font-semibold'>{decodeURIComponent(postTerm)}:</span></h1>
            {postFilterFetch.isSuccess && 
                postFilterFetch.data.length > 0 ?postFilterFetch.data.map((item, index)=>(
                    <Post key = {index} postItem = {item}/>
                )):
                <div className='flex justify-center bg-[#fff]'>
                    <img className='w-[300px]' src="data:image/png;base64,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" alt="" />
                </div>
            }
            
        </div>
    );
}

export default SearchPost;